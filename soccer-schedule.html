<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>All Saints HS — Soccer Match Center</title>
  <style>
    :root {
      --primary: #110003;
      --accent: #7c7377;
      --on-primary: #ffffff;
      --bg: #28191c;
      --text: #0f172a;
      --muted: #64748b;
      --card: #ffffff;
      --surface: #f1f5f9;
      --win: #16a34a;
      --loss: #dc2626;
      --draw: #f59e0b;
      --shadow: 0 10px 30px rgba(0,0,0,.12);
      --radius: 16px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
      color: var(--text); background: linear-gradient(180deg, var(--bg), #fff 40%);
    }
    header.hero {
      background: radial-gradient(80% 120% at 20% 0%, var(--primary), var(--accent));
      color: var(--on-primary);
      padding: 32px 16px 28px; position: sticky; top: 0; z-index: 10;
      box-shadow: 0 6px 24px rgba(0,0,0,.18);
    }
    .container { max-width: 1100px; margin: 0 auto; padding: 0 16px; }
    .brand { display: flex; align-items: center; gap: 14px; }
    .brand img { width: 86px; height: 86px; object-fit: contain; filter: drop-shadow(0 4px 8px rgba(0,0,0,.35)); background: rgba(255,255,255,.1); border-radius: 12px; padding: 6px; }
    h1 { font-size: clamp(22px, 3vw, 32px); margin: 0; letter-spacing: .5px; }
    .toolbar { margin-top: 14px; display: flex; flex-wrap: wrap; align-items: center; gap: 10px; }
    .pill {
      background: rgba(255,255,255,.18); color: var(--on-primary); border: 1px solid rgba(255,255,255,.28);
      padding: 8px 12px; border-radius: 999px; display: inline-flex; align-items: center; gap: 8px; font-size: 14px;
    }
    .pill input { accent-color: var(--on-primary); }

    main { padding: 28px 0 60px; }

    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 18px; }

    .card {
      background: var(--card); border-radius: var(--radius); box-shadow: var(--shadow);
      overflow: clip; position: relative; border: 1px solid #e2e8f0; transition: transform .12s ease, box-shadow .12s ease;
    }
    .card:hover { transform: translateY(-2px); box-shadow: 0 14px 36px rgba(0,0,0,.18); }

    .ribbon { position: absolute; top: 0; left: 0; background: var(--primary); color: var(--on-primary);
      padding: 6px 12px; border-bottom-right-radius: 12px; font-weight: 700; letter-spacing: .5px; font-size: 12px; text-transform: uppercase; }

    .card-header { padding: 16px; background: linear-gradient(90deg, rgba(0,0,0,.02), rgba(0,0,0,0)); display: flex; flex-direction: column; gap: 10px; }
    .teams { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 10px; }
    .team { display: flex; align-items: center; gap: 8px; }
    .team img { width: 40px; height: 40px; object-fit: contain; filter: drop-shadow(0 2px 6px rgba(0,0,0,.25)); }
    .vs { font-weight: 800; color: var(--muted); padding: 4px 8px; background: var(--surface); border-radius: 8px; }
    .meta { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; color: var(--muted); font-size: 14px; }
    .badge { padding: 4px 8px; border-radius: 8px; background: var(--surface); border: 1px solid #e2e8f0; }

    .card-body { padding: 14px 16px 18px; display: grid; gap: 10px; }
    .row { display: flex; justify-content: space-between; gap: 10px; align-items: center; }
    .label { color: var(--muted); font-size: 14px; }
    .score { font-weight: 800; font-size: 18px; }

    .result.win { color: var(--win); }
    .result.loss { color: var(--loss); }
    .result.draw { color: var(--draw); }

    .footer { text-align: center; color: var(--muted); padding: 24px 8px; }
    .filters { display: flex; gap: 8px; flex-wrap: wrap; }
    .chip {
      border: 1px solid #e2e8f0; background: #fff; color: #0f172a; padding: 6px 10px; border-radius: 999px; cursor: pointer;
    }
    .chip.active { background: var(--primary); color: var(--on-primary); border-color: transparent; }

    .progress { height: 6px; background: var(--surface); border-radius: 999px; overflow: hidden; }
    .progress > span { display: block; height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent)); }

    .hidden { display: none !important; }
  </style>
</head>
<body>
  <header class="hero">
    <div class="container">
      <div class="brand">
        <img src="logo-small.png" alt="Team logo" />
        <div>
          <h1>All Saints High School — Soccer Schedule</h1>
          <div class="meta" style="color: var(--on-primary); opacity: .9;">
            <span>Season <strong id="seasonYear"></strong></span>
            <span class="badge" style="background: rgba(255,255,255,.14); color: var(--on-primary); border: 1px solid rgba(255,255,255,.25)" id="recordBadge">Record: 0–0–0</span>
          </div>
        </div>
      </div>

      <div class="toolbar">
        <div class="pill"><label><input type="checkbox" id="toggleUpcoming" checked /> Upcoming</label></div>
        <div class="pill"><label><input type="checkbox" id="toggleFinal" checked /> Final</label></div>
        <div class="pill"><label><input type="checkbox" id="toggleHome" checked /> Home</label></div>
        <div class="pill"><label><input type="checkbox" id="toggleAway" checked /> Away</label></div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="grid" id="cards"></div>

    <div class="footer">
      <div class="progress"><span id="progressBar" style="width:0%"></span></div>
      <div style="margin-top: 10px;">Completed: <span id="completedCount">0</span> / <span id="totalCount">0</span></div>
    </div>
  </main>

  <script>
    /*******************
     *  CONFIG & DATA  *
     *******************/
    // ⚠️ Change this if needed (I assumed 2025 based on today's date)
    const SEASON_YEAR = 2025; // TODO: adjust if this season is a different year

    // Your team name and logo
    const TEAM_NAME = 'All Saints High School';
    const TEAM_LOGO = 'logo-small.png'; // uses your uploaded logo

    // === UPDATE AFTER GAMES ===
    // Enter the score and running record directly in this array when games finish.
    // ourScore & oppScore can be numbers or null (if not played yet).
    // ourRecord is your overall record AFTER that match (e.g., "3-1-0"). Leave null until updated.
    const matches = [
      {
        matchDay: 1,
        date: `${SEASON_YEAR}-09-25`,
        homeTeam: 'West Carleton',
        awayTeam: TEAM_NAME,
        opponent: 'West Carleton',
        opponentLogo: 'logos/west-carleton.png', // TODO: replace with path to opponent logo
        venue: 'West Carleton',
        isHome: true,
        ourScore: 3, // TODO
        oppScore: 1, // TODO
        ourRecord: '1-0-0' // TODO e.g., '1-0-0'
      },
      {
        matchDay: 2,
        date: `${SEASON_YEAR}-10-02`,
        homeTeam: 'A.Y. Jackson',
        awayTeam: TEAM_NAME,
        opponent: 'A.Y. Jackson',
        opponentLogo: 'logos/ay-jackson.png', // TODO
        venue: 'A.Y. Jackson Secondary School',
        isHome: false,
        ourScore: null, // TODO
        oppScore: null, // TODO
        ourRecord: null // TODO
      },
      {
        matchDay: 3,
        date: `${SEASON_YEAR}-10-08`,
        homeTeam: TEAM_NAME,
        awayTeam: 'Paul-Desmarais',
        opponent: 'Paul-Desmarais',
        opponentLogo: 'logos/paul-desmarais.png', // TODO
        venue: TEAM_NAME,
        isHome: true,
        ourScore: null, // TODO
        oppScore: null, // TODO
        ourRecord: null // TODO
      },
      {
        matchDay: 4,
        date: `${SEASON_YEAR}-10-17`,
        homeTeam: TEAM_NAME,
        awayTeam: 'Holy Trinity',
        opponent: 'Holy Trinity',
        opponentLogo: 'logos/holy-trinity.png', // TODO
        venue: TEAM_NAME,
        isHome: true,
        ourScore: null, // TODO
        oppScore: null, // TODO
        ourRecord: null // TODO
      },
      {
        matchDay: 5,
        date: `${SEASON_YEAR}-10-21`,
        homeTeam: TEAM_NAME,
        awayTeam: 'Earl of March',
        opponent: 'Earl of March',
        opponentLogo: 'logos/earl-of-march.png', // TODO
        venue: TEAM_NAME,
        isHome: true,
        ourScore: null, // TODO
        oppScore: null, // TODO
        ourRecord: null // TODO
      },
      {
        matchDay: 6,
        date: `${SEASON_YEAR}-10-23`,
        homeTeam: 'Nepean',
        awayTeam: TEAM_NAME,
        opponent: 'Nepean',
        opponentLogo: 'logos/nepean.png', // TODO
        venue: 'Nepean High School',
        isHome: false,
        ourScore: null, // TODO
        oppScore: null, // TODO
        ourRecord: null // TODO
      },
    ];

    /*******************
     *  RENDER LOGIC   *
     *******************/
    const seasonYearEl = document.getElementById('seasonYear');
    seasonYearEl.textContent = SEASON_YEAR;

    const cardsEl = document.getElementById('cards');
    const progressBar = document.getElementById('progressBar');
    const completedCount = document.getElementById('completedCount');
    const totalCount = document.getElementById('totalCount');
    const recordBadge = document.getElementById('recordBadge');

    const filters = {
      upcoming: true,
      final: true,
      home: true,
      away: true,
    };

    document.getElementById('toggleUpcoming').addEventListener('change', (e)=>{ filters.upcoming = e.target.checked; render(); });
    document.getElementById('toggleFinal').addEventListener('change', (e)=>{ filters.final = e.target.checked; render(); });
    document.getElementById('toggleHome').addEventListener('change', (e)=>{ filters.home = e.target.checked; render(); });
    document.getElementById('toggleAway').addEventListener('change', (e)=>{ filters.away = e.target.checked; render(); });

    function fmtDate(iso){
      const d = new Date(iso + 'T12:00:00'); // noon for TZ safety
      return d.toLocaleDateString(undefined, { weekday: 'long', month: 'long', day: 'numeric' });
    }
    function daysUntil(iso){
      const today = new Date();
      const d = new Date(iso + 'T00:00:00');
      const ms = d - new Date(today.getFullYear(), today.getMonth(), today.getDate());
      return Math.ceil(ms / (1000*60*60*24));
    }
    function statusFor(m){
      if (m.ourScore == null || m.oppScore == null) {
        const d = new Date(m.date + 'T00:00:00');
        return d >= new Date(new Date().toDateString()) ? 'upcoming' : 'final';
      }
      return 'final';
    }
    function resultFor(m){
      if (m.ourScore == null || m.oppScore == null) return null;
      if (m.ourScore > m.oppScore) return 'Win';
      if (m.ourScore < m.oppScore) return 'Loss';
      return 'Draw';
    }

    function render(){
      const items = matches.slice().sort((a,b)=> new Date(a.date) - new Date(b.date));
      cardsEl.innerHTML = '';

      let played = 0;

      for(const m of items){
        const st = statusFor(m);
        const isUpcoming = st === 'upcoming';
        const isFinal = st === 'final';
        if ((isUpcoming && !filters.upcoming) || (isFinal && !filters.final)) continue;
        if ((m.isHome && !filters.home) || (!m.isHome && !filters.away)) continue;

        if (isFinal && m.ourScore != null && m.oppScore != null) played++;

        const md = `Match Day ${m.matchDay}`;
        const ht = m.isHome ? TEAM_NAME : m.opponent;
        const at = m.isHome ? m.opponent : TEAM_NAME;
        const vsToken = m.isHome ? 'vs' : '@';

        const du = daysUntil(m.date);
        const whenBadge = isUpcoming ? (du>0 ? `${du} day${du===1?'':'s'} to go` : 'Today') : 'Final';

        const score = (m.ourScore==null || m.oppScore==null) ? 'TBD' : `${TEAM_NAME} ${m.ourScore} – ${m.oppScore} ${m.opponent}`;
        const res = resultFor(m);

        const resultClass = res ? res.toLowerCase() : '';

        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `
          <div class="ribbon">${md}</div>
          <div class="card-header">
            <div class="teams">
              <div class="team">
                <img src="${m.isHome ? TEAM_LOGO : m.opponentLogo}" alt="${ht} logo" />
                <div>
                  <div style="font-weight:700">${ht}</div>
                  <div class="label">Home</div>
                </div>
              </div>
              <div class="vs">${vsToken}</div>
              <div class="team" style="justify-content:flex-end">
                <div style="text-align:right">
                  <div style="font-weight:700">${at}</div>
                  <div class="label">Away</div>
                </div>
                <img src="${m.isHome ? m.opponentLogo : TEAM_LOGO}" alt="${at} logo" />
              </div>
            </div>
            <div class="meta">
              <span class="badge">${fmtDate(m.date)}</span>
              <span class="badge">${m.isHome ? 'Home' : 'Away'}</span>
              <span class="badge">${whenBadge}</span>
            </div>
          </div>
          <div class="card-body">
            <div class="row"><span class="label">Venue</span><span>${m.venue}</span></div>
            <div class="row"><span class="label">Score</span><span class="score">${score}</span></div>
            <div class="row"><span class="label">Result</span><span class="result ${resultClass}">${res ?? '—'}</span></div>
          </div>
        `;
        cardsEl.appendChild(card);
      }

      totalCount.textContent = matches.length;
      completedCount.textContent = played;
      const pct = (played / matches.length) * 100;
      progressBar.style.width = pct.toFixed(0) + '%';

      // Update record badge with last non-null ourRecord
      const lastRecord = items.map(m=>m.ourRecord).filter(Boolean).slice(-1)[0] || '0-0-0';
      recordBadge.textContent = 'Record: ' + lastRecord;
    }

    render();
  </script>
</body>
</html>
